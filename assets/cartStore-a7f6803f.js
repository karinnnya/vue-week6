import{h as d,i as r}from"./index-b569f52f.js";import{S as i}from"./sweetalert2.all-f808f091.js";const{VITE_APP_URL:n,VITE_APP_PATH:h}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"rin",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0},l=d("produceStore",{state:()=>({datas:[]}),getters:{sortProducts:({datas:t})=>t.sort((a,e)=>a.price-e.price)},actions:{getProducts(){r.get(`${n}/api/${h}/products/all`).then(t=>{this.datas=t.data.products}).catch(t=>{alert(t)})}}}),{VITE_APP_URL:s,VITE_APP_PATH:o}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"rin",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0},P=i.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1e3,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",i.stopTimer),t.addEventListener("mouseleave",i.resumeTimer)}}),_=d("cart",{state:()=>({cart:{},loading:"",cartQty:[],length:""}),actions:{getCart(){r.get(`${s}/api/${o}/cart`).then(t=>{this.cart=t.data.data,this.length=t.data.data.carts.length}).catch(t=>{alert(t)})},addToCart(t,a=1){const e={product_id:t,qty:a};r.post(`${s}/api/${o}/cart`,{data:e}).then(c=>{P.fire({icon:"success",title:"成功加入購物車"}),this.getCart()}).catch(c=>{alert(c)})},delCart(t){this.loading=t.id,r.delete(`${s}/api/${o}/cart/${t.id}`).then(a=>{this.getCart(),this.loading=""}).catch(a=>{alert(a)})},setCartQty(t){this.loading=t.id;const a={product_id:t.product.id,qty:t.qty};r.put(`${s}/api/${o}/cart/${t.id}`,{data:a}).then(e=>{this.getCart(),this.loading=""}).catch(e=>{alert(e)})}}});export{_ as c,l as p};
